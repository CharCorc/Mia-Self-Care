<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mia Self Care</title>

  <style>
    :root{
      --pink: #ffd6e7;
      --pink2:#ffb9d6;
      --blue: #cfe9ff;
      --blue2:#a7d2ff;
      --ink:#2b2b2b;
      --card:#ffffffcc;
      --shadow: 0 18px 45px rgba(0,0,0,.12);
      --radius: 22px;
    }

    html, body {
      width: 100%;
      max-width: 100%;
      overflow-x: hidden;
      -webkit-text-size-adjust: 100%;
    }

    body{
      margin:0;
      min-height:100svh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 15% 20%, var(--pink) 0%, transparent 60%),
        radial-gradient(1100px 650px at 85% 25%, var(--blue) 0%, transparent 60%),
        linear-gradient(135deg, #fff 0%, #f7fbff 100%);
      padding: 16px;
    }

    .app{
      width:100%;
      max-width:640px;
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.65);
      backdrop-filter: blur(10px);
    }

    header{
      padding:20px 18px 14px;
      background: linear-gradient(90deg, var(--pink2), var(--blue2));
    }

    header h1{
      margin:0;
      font-size:1.25rem;
    }

    header p{
      margin:6px 0 0;
      font-size:.95rem;
      opacity:.9;
    }

    .content{
      padding:18px;
    }

    .progress{
      display:flex;
      gap:6px;
      margin-bottom:16px;
      flex-wrap:wrap;
      max-width:100%;
    }

    .dot{
      height:9px;
      width:9px;
      border-radius:999px;
      background: rgba(0,0,0,.15);
      flex-shrink:0;
    }

    .dot.active{
      background: linear-gradient(180deg, var(--pink2), var(--blue2));
    }

    .dot.done{
      background: rgba(0,0,0,.35);
    }

    .card{
      border-radius: var(--radius);
      background: rgba(255,255,255,.95);
      border: 1px solid rgba(0,0,0,.06);
      padding:16px;
      max-width:100%;
    }

    .question{
      font-size:1.3rem;
      margin:0 0 10px;
      line-height:1.25;
      word-wrap:break-word;
    }

    .message{
      margin:0 0 14px;
      padding:12px 14px;
      border-radius:16px;
      background: linear-gradient(90deg, rgba(255,185,214,.45), rgba(167,210,255,.45));
      border:1px solid rgba(0,0,0,.06);
      display:none;
    }

    .message.show{
      display:block;
    }

    .btnRow{
      display:flex;
      flex-direction:column;
      gap:10px;
      max-width:100%;
    }

    button{
      width:100%;
      border:0;
      border-radius:999px;
      padding:12px 16px;
      font-size:1rem;
      cursor:pointer;
    }

    .yes{
      background: linear-gradient(90deg, var(--blue2), var(--pink2));
    }

    .no{
      background: rgba(0,0,0,.07);
      border:1px solid rgba(0,0,0,.08);
    }

    .restart{
      background: rgba(0,0,0,.1);
      border:1px solid rgba(0,0,0,.1);
      display:none;
    }

    .footer{
      padding:14px 18px 18px;
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:.9rem;
      opacity:.85;
    }

    .pill{
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.7);
      border:1px solid rgba(0,0,0,.06);
      width:fit-content;
    }

    @media (max-width:520px){
      .app{
        backdrop-filter:none;
        background: rgba(255,255,255,.97);
      }

      .question{
        font-size:1.2rem;
      }
    }
  </style>
</head>

<body>
  <div class="app">
    <header>
      <h1>Mia Self Care</h1>
      <p>A tiny check-in quiz :)</p>
    </header>

    <div class="content">
      <div class="progress" id="progress"></div>

      <div class="card">
        <p class="question" id="questionText"></p>
        <div class="message" id="messageBox"></div>

        <div class="btnRow">
          <button class="yes" id="yesBtn">Yes</button>
          <button class="no" id="noBtn">No</button>
          <button class="restart" id="restartBtn">Start over</button>
        </div>
      </div>
    </div>

    <div class="footer">
      <span class="pill" id="stepLabel"></span>
      <span class="pill">good vibes only :)</span>
    </div>
  </div>

  <script>
    const PAUSE_MS = 2500;

    const steps = [
      { question: "Have you eaten?", noMessage: "GO EAT", noBehavior: "repeat" },
      { question: "Have you drank water?", noMessage: "GO DRINK WATER", noBehavior: "repeat" },
      { question: "Have you taken your meds?", noMessage: "GO TAKE YOUR MEDS", noBehavior: "repeat" },
      { question: "Have you had the normal amount of caffeine?", noMessage: "maybe have some caffeine if you want", noBehavior: "continue" },
      { question: "Have you slept enough?", noMessage: "You should really sleep more. You probably can't do that right now, but sleep tonight.", noBehavior: "restartPage" }
    ];

    const questionText = document.getElementById("questionText");
    const messageBox = document.getElementById("messageBox");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const restartBtn = document.getElementById("restartBtn");
    const stepLabel = document.getElementById("stepLabel");
    const progress = document.getElementById("progress");

    let idx = 0;
    let mode = "quiz";

    function renderDots(){
      progress.innerHTML = "";
      steps.forEach((_, i) => {
        const d = document.createElement("div");
        d.className = "dot";
        if (mode === "restart") d.classList.add("done");
        else if (i < idx) d.classList.add("done");
        else if (i === idx) d.classList.add("active");
        progress.appendChild(d);
      });
    }

    function renderQuestion(){
      mode = "quiz";
      renderDots();
      questionText.textContent = steps[idx].question;
      stepLabel.textContent = `Step ${idx + 1} of ${steps.length}`;
      messageBox.classList.remove("show");
      yesBtn.style.display = "inline-block";
      noBtn.style.display = "inline-block";
      restartBtn.style.display = "none";
    }

    function setRestart(message){
      mode = "restart";
      renderDots();
      questionText.textContent = "Quiz complete (for now). Want to start again?";
      messageBox.textContent = message;
      messageBox.classList.add("show");
      yesBtn.style.display = "none";
      noBtn.style.display = "none";
      restartBtn.style.display = "inline-block";
      stepLabel.textContent = "Restart";
    }

    yesBtn.onclick = () => {
      if (mode !== "quiz") return;
      idx++;
      if (idx >= steps.length) {
        setRestart("Proud of you. Tiny check-ins add up ðŸ’—ðŸ’™");
      } else {
        renderQuestion();
      }
    };

    noBtn.onclick = () => {
      if (mode !== "quiz") return;
      const step = steps[idx];
      messageBox.textContent = step.noMessage;
      messageBox.classList.add("show");

      if (step.noBehavior === "repeat") return;

      requestAnimationFrame(() => {
        setTimeout(() => {
          if (step.noBehavior === "continue") {
            idx++;
            renderQuestion();
          } else {
            setRestart(step.noMessage);
          }
        }, PAUSE_MS);
      });
    };

    restartBtn.onclick = () => {
      idx = 0;
      mode = "quiz";
      renderQuestion();
    };

    renderQuestion();
  </script>
</body>
</html>
